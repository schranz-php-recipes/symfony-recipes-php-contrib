{
    "manifests": {
        "artprima/prometheus-metrics-bundle": {
            "manifest": {
                "bundles": {
                    "Artprima\\PrometheusMetricsBundle\\ArtprimaPrometheusMetricsBundle": [
                        "all"
                    ]
                },
                "copy-from-recipe": {
                    "config/": "%CONFIG_DIR%/"
                },
                "env": {
                    "PROM_METRICS_DSN": "apcu"
                }
            },
            "files": {
                "config/packages/prometheus_metrics.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "use Symfony\\Component\\DependencyInjection\\Loader\\Configurator\\ContainerConfigurator;",
                        "",
                        "return static function (ContainerConfigurator $containerConfigurator): void {",
                        "    $containerConfigurator->extension('artprima_prometheus_metrics', [",
                        "        'namespace' => 'myapp',",
                        "        'storage' => '%env(PROM_METRICS_DSN)%',",
                        "        'ignored_routes' => ['prometheus_bundle_prometheus', '_wdt'],",
                        "        'disable_default_promphp_metrics' => true,",
                        "    ]);",
                        "    if ($containerConfigurator->env() === 'test') {",
                        "        $containerConfigurator->extension('artprima_prometheus_metrics', [",
                        "            'storage' => 'in_memory',",
                        "        ]);",
                        "    }",
                        "};",
                        ""
                    ],
                    "executable": false
                },
                "config/routes/metrics.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "use Symfony\\Component\\Routing\\Loader\\Configurator\\RoutingConfigurator;",
                        "",
                        "return static function (RoutingConfigurator $routingConfigurator): void {",
                        "    $routingConfigurator->import('@ArtprimaPrometheusMetricsBundle/Resources/config/routing.xml');",
                        "};",
                        ""
                    ],
                    "executable": false
                }
            },
            "ref": "662eb7e255b4726e862ff231ba84c5285652d0cc"
        }
    }
}
