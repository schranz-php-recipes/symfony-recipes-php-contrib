{
    "manifests": {
        "doctrine/phpcr-dbal-symfony-pack": {
            "manifest": {
                "bundles": {
                    "Doctrine\\Bundle\\PHPCRBundle\\DoctrinePHPCRBundle": [
                        "all"
                    ]
                },
                "copy-from-recipe": {
                    "config/": "%CONFIG_DIR%/",
                    "src/": "%SRC_DIR%/"
                },
                "env": {
                    "PHPCR_USER": "admin",
                    "PHPCR_PASSWORD": "admin",
                    "PHPCR_WORKSPACE": "default"
                }
            },
            "files": {
                "config/packages/doctrine_phpcr_dbal.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "use Symfony\\Component\\DependencyInjection\\Loader\\Configurator\\ContainerConfigurator;",
                        "",
                        "return static function (ContainerConfigurator $containerConfigurator): void {",
                        "    $containerConfigurator->extension('doctrine_phpcr', [",
                        "        'session' => [",
                        "            'backend' => [",
                        "                'type' => 'doctrinedbal',",
                        "                'connection' => 'default',",
                        "                'parameters' => [",
                        "                    'jackalope.check_login_on_server' => false,",
                        "                ],",
                        "            ],",
                        "            'workspace' => '%env(PHPCR_WORKSPACE)%',",
                        "            'username' => '%env(PHPCR_USER)%',",
                        "            'password' => '%env(PHPCR_PASSWORD)%',",
                        "        ],",
                        "        'odm' => [",
                        "            'auto_mapping' => true,",
                        "            'auto_generate_proxy_classes' => true,",
                        "            'mappings' => [",
                        "                'App' => [",
                        "                    'mapping' => true,",
                        "                    'type' => 'annotation',",
                        "                    'dir' => '%kernel.root_dir%/Document',",
                        "                    'alias' => 'App',",
                        "                    'prefix' => 'App\\Document\\\\',",
                        "                    'is_bundle' => false,",
                        "                ],",
                        "            ],",
                        "        ],",
                        "    ]);",
                        "};",
                        ""
                    ],
                    "executable": false
                },
                "config/packages/prod/doctrine_phpcr_dbal.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "use Symfony\\Component\\DependencyInjection\\Loader\\Configurator\\ContainerConfigurator;",
                        "use function Symfony\\Component\\DependencyInjection\\Loader\\Configurator\\service;",
                        "",
                        "return static function (ContainerConfigurator $containerConfigurator): void {",
                        "    $containerConfigurator->extension('doctrine_phpcr', [",
                        "        'odm' => [",
                        "            'auto_generate_proxy_classes' => false,",
                        "            'metadata_cache_driver' => [",
                        "                'type' => 'service',",
                        "                'id' => 'doctrine_phpcr.system_cache_provider',",
                        "            ],",
                        "        ],",
                        "        'session' => [",
                        "            'backend' => [",
                        "                'caches' => [",
                        "                    'meta' => 'doctrine_phpcr.meta_cache_provider',",
                        "                    'nodes' => 'doctrine_phpcr.nodes_cache_provider',",
                        "                ],",
                        "            ],",
                        "        ],",
                        "    ]);",
                        "",
                        "    $services = $containerConfigurator->services();",
                        "",
                        "    $services->set('doctrine_phpcr.meta_cache_provider', 'Symfony\\Component\\Cache\\DoctrineProvider')",
                        "        ->private()",
                        "        ->args([",
                        "            service('doctrine_phpcr.meta_cache_pool'),",
                        "        ]);",
                        "",
                        "    $services->set('doctrine_phpcr.nodes_cache_provider', 'Symfony\\Component\\Cache\\DoctrineProvider')",
                        "        ->private()",
                        "        ->args([",
                        "            service('doctrine_phpcr.nodes_cache_pool'),",
                        "        ]);",
                        "",
                        "    $services->set('doctrine_phpcr.system_cache_provider', 'Symfony\\Component\\Cache\\DoctrineProvider')",
                        "        ->private()",
                        "        ->args([",
                        "            service('doctrine_phpcr.system_cache_pool'),",
                        "        ]);",
                        "",
                        "    $containerConfigurator->extension('framework', [",
                        "        'cache' => [",
                        "            'pools' => [",
                        "                'doctrine_phpcr.meta_cache_pool' => [",
                        "                    'adapter' => 'cache.app',",
                        "                ],",
                        "                'doctrine_phpcr.nodes_cache_pool' => [",
                        "                    'adapter' => 'cache.app',",
                        "                ],",
                        "                'doctrine_phpcr.system_cache_pool' => [",
                        "                    'adapter' => 'cache.system',",
                        "                ],",
                        "            ],",
                        "        ],",
                        "    ]);",
                        "};",
                        ""
                    ],
                    "executable": false
                },
                "src/Document/.gitignore": {
                    "contents": [
                        ""
                    ],
                    "executable": false
                }
            },
            "ref": "5fb05fc4e81ec0e06ade5998c289df55ab21da43"
        }
    }
}
