{
    "manifests": {
        "sulu/article-bundle": {
            "manifest": {
                "bundles": {
                    "Sulu\\Bundle\\ArticleBundle\\SuluArticleBundle": [
                        "all"
                    ]
                },
                "copy-from-recipe": {
                    "config/": "%CONFIG_DIR%/"
                },
                "copy-from-package": {
                    "Resources/doc/default.xml": "%CONFIG_DIR%/templates/articles/default.xml",
                    "Resources/doc/default.html.twig": "templates/articles/default.html.twig"
                },
                "env": {
                    "ELASTICSEARCH_HOST": "127.0.0.1:9200",
                    "ELASTICSEARCH_INDEX": "su_articles"
                },
                "post-install-output": [
                    "  * The <fg=green>SuluArticleBundle</> is almost ready:",
                    "    1. Configure elasticsearch host and index in the <comment>.env</> file.",
                    "    2. Initialize PHPCR by running <info>php bin/console sulu:document:init</>.",
                    "    3. Create the elasticsearch indices by running <info>php bin/console ongr:es:index:create</> and <comment>php bin/console ongr:es:index:create --manager live</>.",
                    "    4. Make sure your user has all the necessary permissions for the <fg=green>SuluArticleBundle</>.",
                    "",
                    "  * <fg=blue>Read</> the documentation at <comment>https://github.com/sulu/SuluArticleBundle/blob/2.x/Resources/doc/README.md</>"
                ]
            },
            "files": {
                "config/packages/sulu_article.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "use Symfony\\Component\\DependencyInjection\\Loader\\Configurator\\ContainerConfigurator;",
                        "",
                        "return static function (ContainerConfigurator $containerConfigurator): void {",
                        "    $containerConfigurator->extension('sulu_article', [",
                        "        'index_name' => '%env(resolve:ELASTICSEARCH_INDEX)%',",
                        "        'hosts' => [",
                        "            '%env(resolve:ELASTICSEARCH_HOST)%',",
                        "        ],",
                        "        'types' => [",
                        "            'article' => [",
                        "                'translation_key' => 'sulu_article.article',",
                        "            ],",
                        "        ],",
                        "    ]);",
                        "",
                        "    $containerConfigurator->extension('sulu_route', [",
                        "        'mappings' => [",
                        "            'Sulu\\Bundle\\ArticleBundle\\Document\\ArticleDocument' => [",
                        "                'generator' => 'schema',",
                        "                'options' => [",
                        "                    'route_schema' => '/articles/{object.getTitle()}',",
                        "                ],",
                        "            ],",
                        "            'Sulu\\Bundle\\ArticleBundle\\Document\\ArticlePageDocument' => [",
                        "                'generator' => 'article_page',",
                        "                'options' => [",
                        "                    'route_schema' => '{translator.trans(\"page\")}-{object.getPageNumber()}',",
                        "                    'parent' => '{object.getParent().getRoutePath()}',",
                        "                ],",
                        "            ],",
                        "        ],",
                        "    ]);",
                        "",
                        "    $containerConfigurator->extension('ongr_elasticsearch', [",
                        "        'analysis' => [",
                        "            'tokenizer' => [",
                        "                'pathTokenizer' => [",
                        "                    'type' => 'path_hierarchy',",
                        "                ],",
                        "            ],",
                        "            'analyzer' => [",
                        "                'pathAnalyzer' => [",
                        "                    'tokenizer' => 'pathTokenizer',",
                        "                ],",
                        "            ],",
                        "        ],",
                        "    ]);",
                        "};",
                        ""
                    ],
                    "executable": false
                },
                "config/routes/sulu_article_admin.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "use Symfony\\Component\\Routing\\Loader\\Configurator\\RoutingConfigurator;",
                        "",
                        "return static function (RoutingConfigurator $routingConfigurator): void {",
                        "    $routingConfigurator->import('@SuluArticleBundle/Resources/config/routing_api.yml', 'rest')",
                        "        ->prefix('/admin/api');",
                        "};",
                        ""
                    ],
                    "executable": false
                }
            },
            "ref": "e1db807c61599fb00dcc55effa33d5c37b3d2f34"
        }
    }
}
