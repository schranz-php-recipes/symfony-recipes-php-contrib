{
    "manifests": {
        "phpfastcgi/fastcgi-daemon": {
            "manifest": {
                "copy-from-recipe": {
                    "config/": "%CONFIG_DIR%/",
                    "src/": "%SRC_DIR%/"
                },
                "post-install-output": [
                    "  * <fg=blue>Run</> your application:",
                    "    1. Configure your web server",
                    "    2. Execute the <comment>bin/console fastcgi-daemon:run</> command;",
                    "    3. Browse your application super quickly",
                    "",
                    "  * <fg=blue>Read</> the documentation at <comment>https://github.com/PHPFastCGI/FastCGIDaemon</>"
                ]
            },
            "files": {
                "config/packages/fastcgi_daemon.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "use PHPFastCGI\\FastCGIDaemon\\Driver\\DriverContainer;",
                        "use Symfony\\Component\\DependencyInjection\\Loader\\Configurator\\ContainerConfigurator;",
                        "use function Symfony\\Component\\DependencyInjection\\Loader\\Configurator\\service;",
                        "",
                        "return static function (ContainerConfigurator $containerConfigurator): void {",
                        "    $services = $containerConfigurator->services();",
                        "",
                        "    $services->set('App\\FastCGIKernel')",
                        "        ->autowire(true);",
                        "",
                        "    $services->set(DriverContainer::class);",
                        "",
                        "    $services->set('PHPFastCGI\\FastCGIDaemon\\Command\\DaemonRunCommand')",
                        "        ->args([",
                        "            service('App\\FastCGIKernel'),",
                        "            service('PHPFastCGI\\FastCGIDaemon\\Driver\\DriverContainer'),",
                        "            'fastcgi-daemon:run',",
                        "        ])",
                        "        ->tag('console.command');",
                        "};",
                        ""
                    ],
                    "executable": false
                },
                "src/FastCGIKernel.php": {
                    "contents": [
                        "<?php",
                        "",
                        "namespace App;",
                        "",
                        "use PHPFastCGI\\FastCGIDaemon\\Http\\RequestInterface;",
                        "use PHPFastCGI\\FastCGIDaemon\\KernelInterface as PHPFastCGIKernel;",
                        "use Symfony\\Component\\HttpKernel\\KernelInterface;",
                        "use Symfony\\Component\\HttpKernel\\TerminableInterface;",
                        "",
                        "class FastCGIKernel implements PHPFastCGIKernel",
                        "{",
                        "    private $kernel;",
                        "",
                        "    public function __construct(KernelInterface $kernel)",
                        "    {",
                        "        $this->kernel = $kernel;",
                        "    }",
                        "",
                        "    public function handleRequest(RequestInterface $request)",
                        "    {",
                        "        $this->kernel->boot();",
                        "",
                        "        $symfonyRequest = $request->getHttpFoundationRequest();",
                        "        $symfonyResponse = $this->kernel->handle($symfonyRequest);",
                        "",
                        "        if ($this->kernel instanceof TerminableInterface) {",
                        "            $this->kernel->terminate($symfonyRequest, $symfonyResponse);",
                        "        }",
                        "",
                        "        return $symfonyResponse;",
                        "    }",
                        "}",
                        "",
                        ""
                    ],
                    "executable": false
                }
            },
            "ref": "7b0c9d42e57daaf1d2e903e7e9e09beb938c4ae2"
        }
    }
}
