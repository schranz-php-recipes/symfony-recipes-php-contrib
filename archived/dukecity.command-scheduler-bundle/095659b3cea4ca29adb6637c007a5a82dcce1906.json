{
    "manifests": {
        "dukecity/command-scheduler-bundle": {
            "manifest": {
                "bundles": {
                    "Dukecity\\CommandSchedulerBundle\\DukecityCommandSchedulerBundle": [
                        "all"
                    ]
                },
                "copy-from-recipe": {
                    "config/": "%CONFIG_DIR%/"
                },
                "post-install-output": [
                    "  * <fg=blue>Update your DB schema</>",
                    "    1. php bin/console make:migration",
                    "    2. php bin/console doctrine:migrations:migrate",
                    "",
                    "  * <fg=red;fg=white>Secure / Configure</> your application:",
                    "    1. Secure your route by adding <comment>- { path: ^/command-scheduler, role: ROLE_ADMIN }</> in your security config.",
                    "    2. Set the single-entry point in crontab : <comment>* * * * * php /your_app/bin/console scheduler:execute</>",
                    "",
                    "  * <fg=blue>Schedule</> your commands at <comment>http://your-app/command-scheduler/list</>"
                ]
            },
            "files": {
                "config/packages/scheduler.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "use Symfony\\Component\\DependencyInjection\\Loader\\Configurator\\ContainerConfigurator;",
                        "",
                        "return static function (ContainerConfigurator $containerConfigurator): void {",
                        "    $containerConfigurator->extension('dukecity_command_scheduler', [",
                        "        'log_path' => '%kernel.logs_dir%',",
                        "        'excluded_command_namespaces' => [",
                        "            '_global',",
                        "            'scheduler',",
                        "            'server',",
                        "            'container',",
                        "            'config',",
                        "            'generate',",
                        "            'init',",
                        "            'router',",
                        "            'doctrine',",
                        "            'debug',",
                        "        ],",
                        "    ]);",
                        "};",
                        ""
                    ],
                    "executable": false
                },
                "config/routes/scheduler.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "use Symfony\\Component\\Routing\\Loader\\Configurator\\RoutingConfigurator;",
                        "",
                        "return static function (RoutingConfigurator $routingConfigurator): void {",
                        "    $routingConfigurator->import('@DukecityCommandSchedulerBundle/Resources/config/routing.php')",
                        "        ->prefix('/');",
                        "};",
                        ""
                    ],
                    "executable": false
                }
            },
            "ref": "095659b3cea4ca29adb6637c007a5a82dcce1906"
        }
    }
}
